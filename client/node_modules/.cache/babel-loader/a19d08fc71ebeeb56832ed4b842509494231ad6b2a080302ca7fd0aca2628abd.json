{"ast":null,"code":"import{useState,useEffect,React}from'react';import'./header.css';import{Navsearchbar}from'../../components/';import{logo_full,menu,messages,notifications,profile,createpost,pencil_fill}from'./imports';import{Link}from\"react-router-dom\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;function clickMenu(id){document.getElementById(id).classList.toggle(\"show\");}const Header=_ref=>{let{user,logout}=_ref;const[isAdmin,setAdmin]=useState(false);useEffect(()=>{if(user){if(user.username==='admin'){setAdmin(true);}else{setAdmin(false);}}},[]);// const [user, setUser] = useState(null);\n// useEffect(() => {\n//   axios.get('${process.env.REACT_APP_API_URL}/api/current_user')\n//     .then(response => {\n//       const { username, _id } = response.data;\n//       setUser({ username, _id }); // Assuming you want to store both\n//     })\n//     .catch(error => {\n//       console.error('Error fetching user:', error);\n//     });\n// }, []);\n// const handleLogout = () => {\n//   axios.get('${process.env.REACT_APP_API_URL}/api/logout')\n//     .then(() => {\n//       setUser(null);\n//     })\n//     .catch(error => {\n//       console.error('Logout error:', error);\n//     });\n// };\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"navbar section__padding\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar__logo\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:logo_full})})}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar__search\",children:/*#__PURE__*/_jsx(Navsearchbar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar__buttons\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar__buttons-dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>clickMenu(\"navbar__menu_dropdown\"),children:/*#__PURE__*/_jsx(\"img\",{src:menu})}),/*#__PURE__*/_jsxs(\"div\",{id:\"navbar__menu_dropdown\",className:\"navbar__buttons-dropdown_content scale-up-tr\",children:[/*#__PURE__*/_jsx(Link,{to:\"/courses\",children:\"View Courses\"}),/*#__PURE__*/_jsx(Link,{to:\"/topics\",children:\"View Topics\"})]})]}),user&&/*#__PURE__*/_jsxs(\"div\",{className:\"navbar__buttons-dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>clickMenu(\"navbar__create_dropdown\"),children:/*#__PURE__*/_jsx(\"img\",{src:createpost,alt:\"Create\"})}),/*#__PURE__*/_jsxs(\"div\",{id:\"navbar__create_dropdown\",className:\"navbar__buttons-dropdown_content scale-up-tr\",children:[isAdmin&&/*#__PURE__*/_jsx(Link,{to:\"/createcourse\",children:\"Create Course\"}),/*#__PURE__*/_jsx(Link,{to:\"/createpost\",children:\"Create Post\"})]})]}),user?/*#__PURE__*/_jsxs(\"div\",{className:\"navbar__buttons-dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>clickMenu(\"navbar__profile_dropdown\"),children:/*#__PURE__*/_jsx(\"img\",{src:profile,alt:\"Profile\"})}),/*#__PURE__*/_jsxs(\"div\",{id:\"navbar__profile_dropdown\",className:\"navbar__buttons-dropdown_content scale-up-tr\",children:[/*#__PURE__*/_jsx(Link,{to:\"/profile/\"+user.username,children:\"View Profile\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",onClick:logout,children:\"Logout\"})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"navbar__buttons-login\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})})]})]});};export default Header;","map":{"version":3,"names":["useState","useEffect","React","Navsearchbar","logo_full","menu","messages","notifications","profile","createpost","pencil_fill","Link","axios","jsx","_jsx","jsxs","_jsxs","defaults","withCredentials","clickMenu","id","document","getElementById","classList","toggle","Header","_ref","user","logout","isAdmin","setAdmin","username","className","children","to","src","type","onClick","alt"],"sources":["C:/Users/minem/OneDrive/Documents/GitHub/Taft-Overflow/client/src/containers/header/Header.jsx"],"sourcesContent":["import { useState, useEffect, React} from 'react'\r\nimport './header.css';\r\nimport { Navsearchbar } from '../../components/';\r\nimport { logo_full,menu,messages,notifications,profile,createpost,pencil_fill } from './imports';\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from 'axios';\r\n\r\naxios.defaults.withCredentials = true;\r\n\r\n\r\nfunction clickMenu(id) {\r\n    document.getElementById(id).classList.toggle(\"show\");\r\n}\r\n\r\n\r\n\r\nconst Header = ( {user, logout}) => {\r\n  const [isAdmin, setAdmin] = useState(false);\r\n\r\n\r\n  useEffect( () => {\r\n    if(user){\r\n      if(user.username === 'admin'){\r\n        setAdmin(true);\r\n      }else{\r\n        setAdmin(false);\r\n      }\r\n    }\r\n  },[]);\r\n  // const [user, setUser] = useState(null);\r\n\r\n  // useEffect(() => {\r\n  //   axios.get('${process.env.REACT_APP_API_URL}/api/current_user')\r\n  //     .then(response => {\r\n  //       const { username, _id } = response.data;\r\n  //       setUser({ username, _id }); // Assuming you want to store both\r\n  //     })\r\n  //     .catch(error => {\r\n  //       console.error('Error fetching user:', error);\r\n  //     });\r\n  // }, []);\r\n\r\n  // const handleLogout = () => {\r\n  //   axios.get('${process.env.REACT_APP_API_URL}/api/logout')\r\n  //     .then(() => {\r\n  //       setUser(null);\r\n  //     })\r\n  //     .catch(error => {\r\n  //       console.error('Logout error:', error);\r\n  //     });\r\n  // };\r\n\r\n\r\n  return (\r\n    <div className=\"navbar section__padding\">\r\n      \r\n      <div className=\"navbar__logo\">\r\n        <Link to='/'>\r\n        <img src={logo_full}></img>\r\n        </Link>\r\n      </div>\r\n      \r\n      <div className=\"navbar__search\">\r\n        <Navsearchbar></Navsearchbar>\r\n      </div>\r\n      <div className=\"navbar__buttons\">\r\n        <div className='navbar__buttons-dropdown'>\r\n          <button type=\"button\" onClick={() => clickMenu(\"navbar__menu_dropdown\")}><img src={menu}></img></button>\r\n          <div id='navbar__menu_dropdown' className='navbar__buttons-dropdown_content scale-up-tr'>\r\n            <Link to='/courses'>View Courses</Link>\r\n            <Link to='/topics'>View Topics</Link>\r\n          </div>\r\n        </div>\r\n        {/* <button type=\"button\"><img src={messages}></img></button>\r\n        <button type=\"button\"><img src={notifications}></img></button> */}\r\n        {user && \r\n        (<div className='navbar__buttons-dropdown'>\r\n          <button type=\"button\" onClick={() => clickMenu(\"navbar__create_dropdown\")}><img src={createpost} alt=\"Create\"></img></button>\r\n          <div id='navbar__create_dropdown' className='navbar__buttons-dropdown_content scale-up-tr'>\r\n            {isAdmin && (<Link to=\"/createcourse\">Create Course</Link>)}\r\n            <Link to=\"/createpost\">Create Post</Link>\r\n          </div>\r\n        </div>)}\r\n\r\n\r\n        {user ? (          \r\n          <div className='navbar__buttons-dropdown'>\r\n            <button type=\"button\" onClick={() => clickMenu(\"navbar__profile_dropdown\")}><img src={profile} alt=\"Profile\"></img></button>\r\n            <div id='navbar__profile_dropdown' className='navbar__buttons-dropdown_content scale-up-tr'>\r\n              <Link to={\"/profile/\" + user.username}>View Profile</Link>\r\n              <Link to=\"/\" onClick={logout}>Logout</Link>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className='navbar__buttons-login'>\r\n            <Link to=\"/login\">Login</Link>\r\n          </div>\r\n\r\n        )}\r\n      </div>\r\n    </div> \r\n  )\r\n}\r\nexport default Header"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}