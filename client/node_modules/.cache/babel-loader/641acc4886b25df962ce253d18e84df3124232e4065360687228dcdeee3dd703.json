{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./search_results_container.css';import{Post}from'../../components/index';import axios from'axios';import{useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Search_results_container=_ref=>{let{user}=_ref;const location=useLocation();const searchParams=new URLSearchParams(location.search);const searchInput=searchParams.get('search_input');const[posts,setPosts]=useState([]);useEffect(()=>{if(searchInput){axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/posts?search=\").concat(searchInput)).then(res=>{setPosts(res.data);// Assuming the API returns only relevant posts\n}).catch(err=>console.log(err));}},[searchInput]);// useEffect will run when `searchInput` changes\nconst Search_results=posts.slice(0,10).map((content,index)=>/*#__PURE__*/_jsx(Post,{user:user,contents:content},content._id)// Ensure to have a key for each child in a list\n);return/*#__PURE__*/_jsxs(\"div\",{className:\"search_results__container section__padding\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Showing results for: \",/*#__PURE__*/_jsx(\"span\",{className:\"search_results__input\",children:searchInput}),\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"rectangleline\"}),/*#__PURE__*/_jsx(\"div\",{className:\"search_results__contents\",children:Search_results})]});};export default Search_results_container;","map":{"version":3,"names":["React","useEffect","useState","Post","axios","useLocation","jsx","_jsx","jsxs","_jsxs","Search_results_container","_ref","user","location","searchParams","URLSearchParams","search","searchInput","get","posts","setPosts","concat","process","env","REACT_APP_API_URL","then","res","data","catch","err","console","log","Search_results","slice","map","content","index","contents","_id","className","children"],"sources":["C:/Users/minem/OneDrive/Documents/GitHub/Taft-Overflow/client/src/containers/search_results_container/Search_results_container.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './search_results_container.css';\r\nimport { Post } from '../../components/index';\r\nimport axios from 'axios';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nconst Search_results_container = ({user}) => {\r\n  const location = useLocation();\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const searchInput = searchParams.get('search_input');\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (searchInput) {\r\n      axios.get(`${process.env.REACT_APP_API_URL}/api/posts?search=${searchInput}`)\r\n        .then(res => {\r\n          setPosts(res.data); // Assuming the API returns only relevant posts\r\n        }).catch(err => console.log(err));\r\n    }\r\n  }, [searchInput]); // useEffect will run when `searchInput` changes\r\n\r\n  const Search_results = posts.slice(0, 10).map((content, index) =>\r\n    <Post user={user} key={content._id} contents={content}></Post> // Ensure to have a key for each child in a list\r\n  );\r\n\r\n  return (\r\n    <div className='search_results__container section__padding'>\r\n      <h1>Showing results for: <span className='search_results__input'>{searchInput}</span> </h1>\r\n      <div className='rectangleline'></div>\r\n      <div className='search_results__contents'>\r\n        {Search_results}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search_results_container;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,gCAAgC,CACvC,OAASC,IAAI,KAAQ,wBAAwB,CAC7C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,wBAAwB,CAAGC,IAAA,EAAY,IAAX,CAACC,IAAI,CAAC,CAAAD,IAAA,CACtC,KAAM,CAAAE,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAS,YAAY,CAAG,GAAI,CAAAC,eAAe,CAACF,QAAQ,CAACG,MAAM,CAAC,CACzD,KAAM,CAAAC,WAAW,CAAGH,YAAY,CAACI,GAAG,CAAC,cAAc,CAAC,CACpD,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACd,GAAIgB,WAAW,CAAE,CACfb,KAAK,CAACc,GAAG,IAAAG,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,uBAAAH,MAAA,CAAqBJ,WAAW,CAAE,CAAC,CAC1EQ,IAAI,CAACC,GAAG,EAAI,CACXN,QAAQ,CAACM,GAAG,CAACC,IAAI,CAAC,CAAE;AACtB,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,EAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC,CACrC,CACF,CAAC,CAAE,CAACZ,WAAW,CAAC,CAAC,CAAE;AAEnB,KAAM,CAAAe,cAAc,CAAGb,KAAK,CAACc,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAACC,GAAG,CAAC,CAACC,OAAO,CAAEC,KAAK,gBAC3D7B,IAAA,CAACJ,IAAI,EAACS,IAAI,CAAEA,IAAK,CAAmByB,QAAQ,CAAEF,OAAQ,EAA/BA,OAAO,CAACG,GAA8B,CAAE;AACjE,CAAC,CAED,mBACE7B,KAAA,QAAK8B,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzD/B,KAAA,OAAA+B,QAAA,EAAI,uBAAqB,cAAAjC,IAAA,SAAMgC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEvB,WAAW,CAAO,CAAC,IAAC,EAAI,CAAC,cAC3FV,IAAA,QAAKgC,SAAS,CAAC,eAAe,CAAM,CAAC,cACrChC,IAAA,QAAKgC,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CACtCR,cAAc,CACZ,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtB,wBAAwB"},"metadata":{},"sourceType":"module","externalDependencies":[]}